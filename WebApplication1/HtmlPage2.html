<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
</head>
<body>
    <div id="svgs" style="width:200px;height:200px">
        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">
            <foreignObject width="100%" height="100%">
                <div xmlns="http://www.w3.org/1999/xhtml" style="font-size:40px">
                    <em>I</em> like
                    <span style="color:white; text-shadow:0 0 2px blue;">cheese</span>
                </div>
            </foreignObject>
        </svg>
    </div>
    <div id="imgs"></div><img id="img123" src="" />
    
        <canvas id="canvas" style="border:2px solid black;" width="200" height="200"></canvas>
        <script>
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');
            var data = document.getElementById("svgs").innerHTML;
            var DOMURL = window.URL || window.webkitURL || window;
            var img = new Image();
            var svg = new Blob([data], { type: 'image/svg+xml' });
            var url = DOMURL.createObjectURL(svg);
            img.onload = function () {
                ctx.drawImage(img, 0, 0);
                DOMURL.revokeObjectURL(url);
            }
            img.src = url;
            document.getElementById("imgs").innerHTML = convertCanvasToImage(canvas);

            function convertCanvasToImage(canvas) {
                var image = new Image();
                image.src = canvas.toDataURL("image/png", 0.1);
                document.getElementById("img123").src = canvas.toDataURL("image/png", 0.1);
                return image;
            }
        </script>
</body>
</html>
